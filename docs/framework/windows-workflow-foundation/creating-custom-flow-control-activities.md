---
title: Özel akış denetimi etkinlikleri oluşturma
ms.date: 03/30/2017
ms.assetid: 27f409f6-2d1d-4cfb-9765-93eb2ad667d5
ms.openlocfilehash: 8e7d4caad197631509fe80a5b5a08eff4d228c1c
ms.sourcegitcommit: 005980b14629dfc193ff6cdc040800bc75e0a5a5
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 09/14/2019
ms.locfileid: "70989724"
---
# <a name="creating-custom-flow-control-activities"></a><span data-ttu-id="94a28-102">Özel akış denetimi etkinlikleri oluşturma</span><span class="sxs-lookup"><span data-stu-id="94a28-102">Creating custom flow control activities</span></span>
<span data-ttu-id="94a28-103">.NET Framework, soyut programlama yapılarına ( <xref:System.Activities.Statements.Flowchart>gibi) veya standart programlama ifadelerine ( <xref:System.Activities.Statements.If>gibi) benzer şekilde işlev gösteren çeşitli akış denetimi etkinlikleri içerir.</span><span class="sxs-lookup"><span data-stu-id="94a28-103">The .NET Framework contains a variety of flow-control activities that function similarly to abstract programming structures (such as <xref:System.Activities.Statements.Flowchart>)   or to standard programming statements (such as <xref:System.Activities.Statements.If>).</span></span> <span data-ttu-id="94a28-104">Bu konu, [genel olmayan foreach](./samples/non-generic-foreach.md), örnek projelerden birinin mimarisini açıklamaktadır.</span><span class="sxs-lookup"><span data-stu-id="94a28-104">This topic discusses the architecture of one of the sample projects, [Non-Generic ForEach](./samples/non-generic-foreach.md).</span></span>  
  
## <a name="creating-the-custom-class"></a><span data-ttu-id="94a28-105">Özel sınıf oluşturma</span><span class="sxs-lookup"><span data-stu-id="94a28-105">Creating the custom class</span></span>  
 <span data-ttu-id="94a28-106">Genel olmayan foreach sınıfının alt etkinlikleri zamanlaması gerektiğinden, öğesinden <xref:System.Activities.NativeActivity> <xref:System.Workflow.Activities.CodeActivity> türettikleri etkinlikler bu işlevselliğe sahip olmadığından öğesinden türetilmelidir.</span><span class="sxs-lookup"><span data-stu-id="94a28-106">Since the Non-Generic ForEach class will need to schedule child activities, it will need to derive from <xref:System.Activities.NativeActivity>, since activities that derive from <xref:System.Workflow.Activities.CodeActivity> do not have this functionality.</span></span>  
  
```csharp  
public sealed class ForEach : NativeActivity  
{
}
```  
  
 <span data-ttu-id="94a28-107">Özel sınıf, etkinlik tarafından kullanılan verileri depolamak ve etkinliğin alt etkinliklerini yürütmek için işlevsellik sağlamak üzere çeşitli Üyeler gerektirir.</span><span class="sxs-lookup"><span data-stu-id="94a28-107">The custom class requires several members to store data being used by the activity, and to provide functionality to execute the activity’s child activities.</span></span> <span data-ttu-id="94a28-108">Bu Üyeler şunları içerir:</span><span class="sxs-lookup"><span data-stu-id="94a28-108">These members include:</span></span>  
  
- <span data-ttu-id="94a28-109">`valueEnumerator`: Öğe koleksiyonunu yinelemek için <xref:System.Activities.Variable%601> kullanılan tür <xref:System.Collections.IEnumerator> genel olmayan türü.</span><span class="sxs-lookup"><span data-stu-id="94a28-109">`valueEnumerator`: The non-public <xref:System.Activities.Variable%601> of type <xref:System.Collections.IEnumerator> used to iterate over the collection of items.</span></span> <span data-ttu-id="94a28-110">Bu üye, bu nesnenin <xref:System.Activities.Variable%601> etkinlik dışında bir kaynağı olması durumunda kullanılacak bir bağımsız değişken veya public özelliği değil, etkinlikte dahili olarak kullanıldığı için türündedir.</span><span class="sxs-lookup"><span data-stu-id="94a28-110">This member is of type <xref:System.Activities.Variable%601> because it is used internally in the activity, rather than an argument or public property, which would be used if this object were to have an origin outside the activity.</span></span>  
  
- <span data-ttu-id="94a28-111">`OnChildComplete`: Her alt <xref:System.Activities.CompletionCallback> öğe yürütmeyi tamamladığında yürütülen ortak özellik.</span><span class="sxs-lookup"><span data-stu-id="94a28-111">`OnChildComplete`: The public <xref:System.Activities.CompletionCallback> property that executes when each child completes execution.</span></span> <span data-ttu-id="94a28-112">Bu üye bir CLR özelliği olarak tanımlanır, çünkü değeri etkinliğin farklı örnekleri için değişmeyecektir.</span><span class="sxs-lookup"><span data-stu-id="94a28-112">This member is defined as a CLR property, since its value will not change for different instances of the activity.</span></span>  
  
- <span data-ttu-id="94a28-113">`Values`: Alt etkinliğin yinelemeleri için kullanılan girişlerin koleksiyonu.</span><span class="sxs-lookup"><span data-stu-id="94a28-113">`Values`: The collection of inputs used for the iterations of the child activity.</span></span> <span data-ttu-id="94a28-114">Bu üye, verilerin kaynağı <xref:System.Activities.InArgument%601>etkinliğin dışında olduğundan, ancak koleksiyonun içeriklerinin etkinliğin yürütülmesi sırasında değiştirilmesi beklenmediğinden, bu üye türündedir.</span><span class="sxs-lookup"><span data-stu-id="94a28-114">This member is of type <xref:System.Activities.InArgument%601>, since the origin of the data is outside the activity, but the contents of the collection is not expected to change during the execution of the activity.</span></span> <span data-ttu-id="94a28-115">Etkinlik yürütülürken bu koleksiyonun içeriğini değiştirme işlevselliğine ihtiyaç duyuldıysa (örneğin, etkinlik eklemek veya kaldırmak için), bu üye bir <xref:System.Activities.ActivityAction>olarak tanımlanmış olur, bu da her seferinde değerlendirilir Bu, değişiklikler etkinlik tarafından kullanılabilir hale gelecek şekilde erişilirdi.</span><span class="sxs-lookup"><span data-stu-id="94a28-115">If the activity needed the functionality to change the contents of this collection while the activity was executing (to add or remove activities, for instance), this member would have been defined as an <xref:System.Activities.ActivityAction>, which then would have been evaluated every time it was accessed, so that changes would be available to the activity.</span></span>  
  
- <span data-ttu-id="94a28-116">`Body`: Bu üye `Values` koleksiyondaki her öğe için yürütülecek etkinliği tanımlar.</span><span class="sxs-lookup"><span data-stu-id="94a28-116">`Body`: This member defines the activity to be executed for each item in the `Values` collection.</span></span> <span data-ttu-id="94a28-117">Bu üye, her erişildiği sırada <xref:System.Activities.ActivityAction> değerlendirilmek üzere bir olarak tanımlanır.</span><span class="sxs-lookup"><span data-stu-id="94a28-117">This member is defined as an <xref:System.Activities.ActivityAction> so that it is evaluated every time it is accessed.</span></span>  
  
- <span data-ttu-id="94a28-118">`Execute`: Bu yöntem, yürütmeyi `InternalExecute`zamanlamak `OnForEachComplete`ve gövde üyesinde tanımlanan alt etkinliğin tamamlanma işleyicisini atamak için, ve `GetStateAndExecute` ortak olmayan üyeleri kullanır.</span><span class="sxs-lookup"><span data-stu-id="94a28-118">`Execute`: This method uses the `InternalExecute`, `OnForEachComplete`, and `GetStateAndExecute` non-public members to schedule the execution and assign the completion handler of the child activity defined in the Body member.</span></span>  
  
- <span data-ttu-id="94a28-119">`CacheMetadata`: Bu üye, çalışma zamanında etkinliği yürütmek için gereken bilgileri sağlar.</span><span class="sxs-lookup"><span data-stu-id="94a28-119">`CacheMetadata`: This member provides the runtime with the information it needs to execute the activity.</span></span> <span data-ttu-id="94a28-120">Varsayılan olarak, bir etkinliğin `CacheMetadata` Yöntemi etkinliğin tüm genel üyelerinin çalışma zamanını bilgilendirir, ancak bu etkinlik bazı işlevler için özel Üyeler kullandığından, çalışma zamanının farkında olması için, çalışma zamanına ait çalışma zamanına bildirmesi gerekir yapıştırabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="94a28-120">By default, an activity’s `CacheMetadata` method will inform the runtime of all public members of the activity, but since this activity uses private members for some functionality, it needs to inform the runtime of their existence so that the runtime can be aware of them.</span></span> <span data-ttu-id="94a28-121">Bu durumda, `CacheMetadata` özel `valueEnumerator` üyeye erişilebilmesi için işlev geçersiz kılınır.</span><span class="sxs-lookup"><span data-stu-id="94a28-121">In this case, the `CacheMetadata` function is overridden so that the private `valueEnumerator` member can be accessed.</span></span> <span data-ttu-id="94a28-122">Bu üye, yürütme sırasında etkinliğe geçirilebilmeleri için etkinliğin değerleri için bir bağımsız değişken oluşturur.</span><span class="sxs-lookup"><span data-stu-id="94a28-122">This member also creates an argument for the values for the activity so that they can be passed in to the activity during execution.</span></span>
