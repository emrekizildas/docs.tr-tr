---
title: Etkinlik Temsilcileri Kullanma
ms.date: 03/30/2017
ms.assetid: e33cf876-8979-440b-9b23-4a12d1139960
ms.openlocfilehash: 63f550549456404b237067c98afdb18a8758dd7a
ms.sourcegitcommit: 005980b14629dfc193ff6cdc040800bc75e0a5a5
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 09/14/2019
ms.locfileid: "70989092"
---
# <a name="using-activity-delegates"></a><span data-ttu-id="784eb-102">Etkinlik Temsilcileri Kullanma</span><span class="sxs-lookup"><span data-stu-id="784eb-102">Using Activity Delegates</span></span>
<span data-ttu-id="784eb-103">Etkinlik temsilcileri etkinlik yazarlarının, etkinlik kullanıcılarının etkinlik tabanlı işleyiciler sağlayabileceği belirli imzalara sahip geri çağırmaları kullanıma sunmasına olanak tanır.</span><span class="sxs-lookup"><span data-stu-id="784eb-103">Activity delegates enable activity authors to expose callbacks with specific signatures, for which users of the activity can provide activity-based handlers.</span></span> <span data-ttu-id="784eb-104">İki tür etkinlik temsilcisi mevcuttur: <xref:System.Activities.ActivityAction%601> bir dönüş değeri olmayan etkinlik temsilcilerini tanımlamak için kullanılır ve <xref:System.Activities.ActivityFunc%601> dönüş değeri olan etkinlik temsilcilerini tanımlamak için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="784eb-104">Two types of activity delegates are available: <xref:System.Activities.ActivityAction%601> is used to define activity delegates that do not have a return value, and <xref:System.Activities.ActivityFunc%601> is used to define activity delegates that do have a return value.</span></span>

<span data-ttu-id="784eb-105">Etkinlik temsilcileri, bir alt etkinliğin belirli bir imzaya sahip olacak şekilde sınırlandırılmasının gerektiği senaryolarda faydalıdır.</span><span class="sxs-lookup"><span data-stu-id="784eb-105">Activity delegates are useful in scenarios where a child activity must be constrained to having a certain signature.</span></span> <span data-ttu-id="784eb-106"><xref:System.Activities.Statements.While> Örneğin, bir etkinlik hiçbir kısıtlama olmadan herhangi bir alt etkinlik türünü içerebilir, ancak <xref:System.Activities.ActivityAction%601> <xref:System.Activities.Statements.ForEach%601> etkinliğin gövdesi bir olur ve tarafından sonunda tarafından <xref:System.Activities.Statements.ForEach%601> yürütülen alt etkinliğin bir olması <xref:System.Activities.InArgument%601> gerekir , ' nin <xref:System.Activities.Statements.ForEach%601> numaralandıraldığı koleksiyon üyeleri türü.</span><span class="sxs-lookup"><span data-stu-id="784eb-106">For example, a <xref:System.Activities.Statements.While> activity can contain any type of child activity with no constraints, but the body of a <xref:System.Activities.Statements.ForEach%601> activity is an <xref:System.Activities.ActivityAction%601>, and the child activity that is ultimately executed by <xref:System.Activities.Statements.ForEach%601> must have an <xref:System.Activities.InArgument%601> that is the same type of the members of the collection that the <xref:System.Activities.Statements.ForEach%601> enumerates.</span></span>

## <a name="using-activityaction"></a><span data-ttu-id="784eb-107">ActivityAction kullanma</span><span class="sxs-lookup"><span data-stu-id="784eb-107">Using ActivityAction</span></span>

<span data-ttu-id="784eb-108">Etkinlik [!INCLUDE[netfx_current_short](../../../includes/netfx-current-short-md.md)] <xref:System.Activities.Statements.Catch> ve etkinlik<xref:System.Activities.Statements.ForEach%601> gibi çeşitli etkinlikler etkinlik eylemlerini kullanır.</span><span class="sxs-lookup"><span data-stu-id="784eb-108">Several [!INCLUDE[netfx_current_short](../../../includes/netfx-current-short-md.md)] activities use activity actions, such as the <xref:System.Activities.Statements.Catch> activity and the <xref:System.Activities.Statements.ForEach%601> activity.</span></span> <span data-ttu-id="784eb-109">Her durumda etkinlik eylemi, iş akışı yazarının, bu etkinliklerden birini kullanarak bir iş akışı oluştururken istenen davranışı sağlamak için bir etkinlik belirttiği bir konumu temsil eder.</span><span class="sxs-lookup"><span data-stu-id="784eb-109">In each case, the activity action represents a location where the workflow author specifies an activity to provide the desired behavior when composing a workflow using one of these activities.</span></span> <span data-ttu-id="784eb-110">Aşağıdaki örnekte, konsol penceresinde metin <xref:System.Activities.Statements.ForEach%601> göstermek için bir etkinlik kullanılır.</span><span class="sxs-lookup"><span data-stu-id="784eb-110">In the following example, a <xref:System.Activities.Statements.ForEach%601> activity is used to display text to the console window.</span></span> <span data-ttu-id="784eb-111">Gövdesi <xref:System.Activities.Statements.ForEach%601> , dize olan türüyle <xref:System.Activities.Statements.ForEach%601> eşleşen bir <xref:System.Activities.ActivityAction%601> kullanılarak belirtilir.</span><span class="sxs-lookup"><span data-stu-id="784eb-111">The body of the <xref:System.Activities.Statements.ForEach%601> is specified by using an <xref:System.Activities.ActivityAction%601> that matches the type of the <xref:System.Activities.Statements.ForEach%601> which is string.</span></span> <span data-ttu-id="784eb-112">Öğesinde belirtilen etkinliğin bağımsız değişkeni, <xref:System.Activities.Statements.ForEach%601> etkinliğin yineleme koleksiyonundaki dize değerlerine bağımlıdır. <xref:System.Activities.Statements.WriteLine.Text%2A> <xref:System.Activities.Statements.WriteLine> <xref:System.Activities.ActivityDelegate.Handler%2A></span><span class="sxs-lookup"><span data-stu-id="784eb-112">The <xref:System.Activities.Statements.WriteLine> activity specified in the <xref:System.Activities.ActivityDelegate.Handler%2A> has its <xref:System.Activities.Statements.WriteLine.Text%2A> argument bound to the string values in the collection that the <xref:System.Activities.Statements.ForEach%601> activity iterates.</span></span>

[!code-csharp[CFX_ActivityExample#6](~/samples/snippets/csharp/VS_Snippets_CFX/CFX_ActivityExample/cs/Program.cs#6)]

<span data-ttu-id="784eb-113">ActionArgument, koleksiyondaki tek tek öğeleri WriteLine öğesine akışa almak için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="784eb-113">The actionArgument is used to flow the individual items in the collection to the WriteLine.</span></span> <span data-ttu-id="784eb-114">İş akışı çağrıldığında, konsola aşağıdaki çıktı görüntülenir.</span><span class="sxs-lookup"><span data-stu-id="784eb-114">When the workflow is invoked, the following output is displayed to the console.</span></span>

```console
HelloWorld.
```

<span data-ttu-id="784eb-115">Bu konudaki örnekler, nesne başlatma sözdizimini kullanır.</span><span class="sxs-lookup"><span data-stu-id="784eb-115">The examples in this topic use object initialization syntax.</span></span> <span data-ttu-id="784eb-116">Nesne başlatma sözdizimi, iş akışındaki etkinliklerin hiyerarşik bir görünümünü sağladığından koddaki iş akışı tanımlarını oluşturmak için kullanışlı bir yol olabilir ve etkinlikler arasındaki ilişkiyi gösterir.</span><span class="sxs-lookup"><span data-stu-id="784eb-116">Object initialization syntax can be a useful way to create workflow definitions in code because it provides a hierarchical view of the activities in the workflow and shows the relationship between the activities.</span></span> <span data-ttu-id="784eb-117">Program aracılığıyla iş akışları oluştururken nesne başlatma söz dizimini kullanma gereksinimi yoktur.</span><span class="sxs-lookup"><span data-stu-id="784eb-117">There is no requirement to use object initialization syntax when you programmatically create workflows.</span></span> <span data-ttu-id="784eb-118">Aşağıdaki örnek, önceki örneğe işlevsel olarak eşdeğerdir.</span><span class="sxs-lookup"><span data-stu-id="784eb-118">The following example is functionally equivalent to the previous example.</span></span>

[!code-csharp[CFX_ActivityExample#7](~/samples/snippets/csharp/VS_Snippets_CFX/CFX_ActivityExample/cs/Program.cs#7)]

<span data-ttu-id="784eb-119">Nesne başlatıcıları hakkında daha fazla bilgi için bkz [. nasıl yapılır: Bir oluşturucuyu (C# Programlama Kılavuzu)](https://go.microsoft.com/fwlink/?LinkId=161015) çağırmadan nesneleri başlatın ve [şunları yapın: Nesne Başlatıcısı](https://go.microsoft.com/fwlink/?LinkId=161016)kullanarak bir nesne bildirin.</span><span class="sxs-lookup"><span data-stu-id="784eb-119">For more information about object initializers, see [How to: Initialize Objects without Calling a Constructor (C# Programming Guide)](https://go.microsoft.com/fwlink/?LinkId=161015) and [How to: Declare an Object by Using an Object Initializer](https://go.microsoft.com/fwlink/?LinkId=161016).</span></span>

<span data-ttu-id="784eb-120">Aşağıdaki örnekte, <xref:System.Activities.Statements.TryCatch> bir etkinlik bir iş akışında kullanılır.</span><span class="sxs-lookup"><span data-stu-id="784eb-120">In the following example, a <xref:System.Activities.Statements.TryCatch> activity is used in a workflow.</span></span> <span data-ttu-id="784eb-121">Bir <xref:System.ApplicationException> iş akışı tarafından oluşturulur ve bir <xref:System.Activities.Statements.Catch%601> etkinlik tarafından işlenir.</span><span class="sxs-lookup"><span data-stu-id="784eb-121">An <xref:System.ApplicationException> is thrown by the workflow, and is handled by a <xref:System.Activities.Statements.Catch%601> activity.</span></span> <span data-ttu-id="784eb-122"><xref:System.Activities.Statements.Catch%601> Etkinliğin etkinlik eylemi için olan işleyici bir <xref:System.Activities.Statements.WriteLine> etkinliktir ve özel durum ayrıntısı, `ex` <xref:System.Activities.DelegateInArgument%601>kullanılarak ile arasında akıtıdır.</span><span class="sxs-lookup"><span data-stu-id="784eb-122">The handler for the <xref:System.Activities.Statements.Catch%601> activity's activity action is a <xref:System.Activities.Statements.WriteLine> activity, and the exception detail is flowed through to it using the `ex` <xref:System.Activities.DelegateInArgument%601>.</span></span>

[!code-csharp[CFX_WorkflowApplicationExample#33](~/samples/snippets/csharp/VS_Snippets_CFX/cfx_workflowapplicationexample/cs/program.cs#33)]

<span data-ttu-id="784eb-123"><xref:System.Activities.ActivityAction%601>Öğesini tanımlayan özel bir etkinlik oluştururken bunun çağrılmasını <xref:System.Activities.ActivityAction%601>modellemek <xref:System.Activities.Statements.InvokeAction%601> için kullanın.</span><span class="sxs-lookup"><span data-stu-id="784eb-123">When creating a custom activity that defines an <xref:System.Activities.ActivityAction%601>, use an <xref:System.Activities.Statements.InvokeAction%601> to model the invocation of that <xref:System.Activities.ActivityAction%601>.</span></span> <span data-ttu-id="784eb-124">Bu örnekte, özel `WriteLineWithNotification` bir etkinlik tanımlanmıştır.</span><span class="sxs-lookup"><span data-stu-id="784eb-124">In this example, a custom `WriteLineWithNotification` activity is defined.</span></span> <span data-ttu-id="784eb-125"><xref:System.Activities.Statements.Sequence> Bu etkinlik, bir <xref:System.Activities.Statements.WriteLine> etkinliğin ve <xref:System.Activities.Statements.InvokeAction%601> bir dize bağımsız değişkeni alan öğesini çağıran <xref:System.Activities.ActivityAction%601> bir etkinlik içeren bir öğesinden oluşur.</span><span class="sxs-lookup"><span data-stu-id="784eb-125">This activity is composed of a <xref:System.Activities.Statements.Sequence> that contains a <xref:System.Activities.Statements.WriteLine> activity followed by an <xref:System.Activities.Statements.InvokeAction%601> that invokes an <xref:System.Activities.ActivityAction%601> that takes one string argument.</span></span>

[!code-csharp[CFX_ActivityExample#1](~/samples/snippets/csharp/VS_Snippets_CFX/CFX_ActivityExample/cs/Program.cs#1)]

<span data-ttu-id="784eb-126">`WriteLineWithNotification` Etkinlik kullanılarak bir iş akışı oluşturulduğunda, iş akışı yazarı etkinlik <xref:System.Activities.ActivityDelegate.Handler%2A>eyleminde istenen özel mantığı belirtir.</span><span class="sxs-lookup"><span data-stu-id="784eb-126">When a workflow is created by using the `WriteLineWithNotification` activity, the workflow author specifies the desired custom logic in the activity action’s <xref:System.Activities.ActivityDelegate.Handler%2A>.</span></span> <span data-ttu-id="784eb-127">Bu örnekte, `WriteLineWithNotification` etkinliğini kullanan bir iş akışı oluşturulur ve olarak bir <xref:System.Activities.Statements.WriteLine> <xref:System.Activities.ActivityDelegate.Handler%2A>etkinlik kullanılır.</span><span class="sxs-lookup"><span data-stu-id="784eb-127">In this example, a workflow is created that use the `WriteLineWithNotification` activity, and a <xref:System.Activities.Statements.WriteLine> activity is used as the <xref:System.Activities.ActivityDelegate.Handler%2A>.</span></span>

[!code-csharp[CFX_ActivityExample#2](~/samples/snippets/csharp/VS_Snippets_CFX/CFX_ActivityExample/cs/Program.cs#2)]

<span data-ttu-id="784eb-128">' Nin <xref:System.Activities.Statements.InvokeAction%601> birden çok genel sürümü vardır <xref:System.Activities.ActivityAction%601> ve bir veya daha fazla bağımsız değişken geçirmek için sağlanır.</span><span class="sxs-lookup"><span data-stu-id="784eb-128">There are multiple generic versions of <xref:System.Activities.Statements.InvokeAction%601> and <xref:System.Activities.ActivityAction%601> provided for passing one or more arguments.</span></span>

## <a name="using-activityfunc"></a><span data-ttu-id="784eb-129">ActivityFunc kullanma</span><span class="sxs-lookup"><span data-stu-id="784eb-129">Using ActivityFunc</span></span>

<span data-ttu-id="784eb-130"><xref:System.Activities.ActivityAction%601>etkinlikten sonuç değeri olmadığında yararlıdır ve <xref:System.Activities.ActivityFunc%601> bir sonuç değeri döndürüldüğünde kullanılır.</span><span class="sxs-lookup"><span data-stu-id="784eb-130"><xref:System.Activities.ActivityAction%601> is useful when there is no result value from the activity, and <xref:System.Activities.ActivityFunc%601> is used when a result value is returned.</span></span> <span data-ttu-id="784eb-131"><xref:System.Activities.ActivityFunc%601>Öğesini tanımlayan özel bir etkinlik oluştururken bunun çağrılmasını <xref:System.Activities.ActivityFunc%601>modellemek <xref:System.Activities.Expressions.InvokeFunc%601> için kullanın.</span><span class="sxs-lookup"><span data-stu-id="784eb-131">When creating a custom activity that defines an <xref:System.Activities.ActivityFunc%601>, use an <xref:System.Activities.Expressions.InvokeFunc%601> to model the invocation of that <xref:System.Activities.ActivityFunc%601>.</span></span> <span data-ttu-id="784eb-132">Aşağıdaki örnekte bir `WriteFillerText` etkinlik tanımlanmıştır.</span><span class="sxs-lookup"><span data-stu-id="784eb-132">In the following example, a `WriteFillerText` activity is defined.</span></span> <span data-ttu-id="784eb-133">Dolgu metnini sağlamak için, bir tamsayı <xref:System.Activities.Expressions.InvokeFunc%601> bağımsız değişkeni alan ve bir dize sonucu içeren bir belirtildi.</span><span class="sxs-lookup"><span data-stu-id="784eb-133">To supply the filler text, an <xref:System.Activities.Expressions.InvokeFunc%601> is specified that takes an integer argument and has a string result.</span></span> <span data-ttu-id="784eb-134">Dolgu metni alındıktan sonra, bir <xref:System.Activities.Statements.WriteLine> etkinlik kullanılarak konsola görüntülenir.</span><span class="sxs-lookup"><span data-stu-id="784eb-134">Once the filler text is retrieved, it is displayed to the console using a <xref:System.Activities.Statements.WriteLine> activity.</span></span>

[!code-csharp[CFX_ActivityExample#3](~/samples/snippets/csharp/VS_Snippets_CFX/CFX_ActivityExample/cs/Program.cs#3)]

<span data-ttu-id="784eb-135">Metni sağlamak için bir etkinliğin bir `int` bağımsız değişken alan ve bir dize sonucu olan bir etkinlik kullanılması gerekir.</span><span class="sxs-lookup"><span data-stu-id="784eb-135">To supply the text, an activity must be used that takes one `int` argument and has a string result.</span></span> <span data-ttu-id="784eb-136">Bu örnek, bu `TextGenerator` gereksinimleri karşılayan bir etkinlik gösterir.</span><span class="sxs-lookup"><span data-stu-id="784eb-136">This example shows a `TextGenerator` activity that meets these requirements.</span></span>

[!code-csharp[CFX_ActivityExample#4](~/samples/snippets/csharp/VS_Snippets_CFX/CFX_ActivityExample/cs/Program.cs#4)]

<span data-ttu-id="784eb-137">Etkinliği `TextGenerator` etkinliğiyle`WriteFillerText` birlikte kullanmak için, <xref:System.Activities.ActivityDelegate.Handler%2A>öğesini olarak belirtin.</span><span class="sxs-lookup"><span data-stu-id="784eb-137">To use the `TextGenerator` activity with the `WriteFillerText` activity, specify it as the <xref:System.Activities.ActivityDelegate.Handler%2A>.</span></span>

[!code-csharp[CFX_ActivityExample#5](~/samples/snippets/csharp/VS_Snippets_CFX/CFX_ActivityExample/cs/Program.cs#5)]
