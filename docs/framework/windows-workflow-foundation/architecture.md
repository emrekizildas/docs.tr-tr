---
title: Windows Workflow Mimarisi
ms.date: 03/30/2017
ms.assetid: 1d4c6495-d64a-46d0-896a-3a01fac90aa9
ms.openlocfilehash: e2effc0f53153057b8a9034e4dc80cb19bbe7685
ms.sourcegitcommit: 8a0fe8a2227af612f8b8941bdb8b19d6268748e7
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 10/03/2019
ms.locfileid: "71834861"
---
# <a name="windows-workflow-architecture"></a><span data-ttu-id="39922-102">Windows Workflow Mimarisi</span><span class="sxs-lookup"><span data-stu-id="39922-102">Windows Workflow Architecture</span></span>
<span data-ttu-id="39922-103">Windows Workflow Foundation (WF), etkileşimli uzun süre çalışan uygulamalar geliştirmeye yönelik özet düzeyi oluşturur.</span><span class="sxs-lookup"><span data-stu-id="39922-103">Windows Workflow Foundation (WF) raises the abstraction level for developing interactive long-running applications.</span></span> <span data-ttu-id="39922-104">İş birimleri etkinlik olarak kapsüllenir.</span><span class="sxs-lookup"><span data-stu-id="39922-104">Units of work are encapsulated as activities.</span></span> <span data-ttu-id="39922-105">Etkinlikler, akış denetimi, özel durum işleme, hata yayma, durum verilerinin kalıcılığı, bellek, izleme ve işlem akışından devam eden iş akışlarını yükleme ve kaldırma olanakları sağlayan bir ortamda çalışır.</span><span class="sxs-lookup"><span data-stu-id="39922-105">Activities run in an environment that provides facilities for flow control, exception handling, fault propagation, persistence of state data, loading and unloading of in-progress workflows from memory, tracking, and transaction flow.</span></span>  
  
## <a name="activity-architecture"></a><span data-ttu-id="39922-106">Etkinlik mimarisi</span><span class="sxs-lookup"><span data-stu-id="39922-106">Activity Architecture</span></span>  
 <span data-ttu-id="39922-107">Etkinlikler, <xref:System.Activities.Activity>, <xref:System.Activities.CodeActivity>, <xref:System.Activities.AsyncCodeActivity> veya <xref:System.Activities.NativeActivity> ' ten veya <xref:System.Activities.Activity%601>, <xref:System.Activities.CodeActivity%601>, <xref:System.Activities.AsyncCodeActivity%601> veya <xref:System.Activities.NativeActivity%601> değeri döndüren türevlerini türettirilen CLR türleri olarak geliştirilmiştir.</span><span class="sxs-lookup"><span data-stu-id="39922-107">Activities are developed as CLR types that derive from either <xref:System.Activities.Activity>, <xref:System.Activities.CodeActivity>, <xref:System.Activities.AsyncCodeActivity>, or <xref:System.Activities.NativeActivity>, or their variants that return a value, <xref:System.Activities.Activity%601>, <xref:System.Activities.CodeActivity%601>, <xref:System.Activities.AsyncCodeActivity%601>, or <xref:System.Activities.NativeActivity%601>.</span></span> <span data-ttu-id="39922-108">@No__t-0 ' dan türetilen etkinliklerin geliştirilmesi, kullanıcının iş akışı ortamında yürütülen iş birimlerini hızlı bir şekilde oluşturmak için önceden var olan etkinlikleri dermesini sağlar.</span><span class="sxs-lookup"><span data-stu-id="39922-108">Developing activities that derive from <xref:System.Activities.Activity> allows the user to assemble pre-existing activities to quickly create units of work that execute in the workflow environment.</span></span> <span data-ttu-id="39922-109"><xref:System.Activities.CodeActivity>, diğer yandan, etkinlik bağımsız değişkenlerine erişmek için öncelikle <xref:System.Activities.CodeActivityContext> kullanılarak yönetilen kodda yürütme mantığının yazılmasını sağlar.</span><span class="sxs-lookup"><span data-stu-id="39922-109"><xref:System.Activities.CodeActivity>, on the other hand, enables execution logic to be authored in managed code using <xref:System.Activities.CodeActivityContext> primarily for access to activity arguments.</span></span> <span data-ttu-id="39922-110"><xref:System.Activities.AsyncCodeActivity>, zaman uyumsuz görevleri uygulamak için kullanılabilmesi dışında <xref:System.Activities.CodeActivity> ile benzerdir.</span><span class="sxs-lookup"><span data-stu-id="39922-110"><xref:System.Activities.AsyncCodeActivity> is similar to <xref:System.Activities.CodeActivity> except that it can be used to implement asynchronous tasks.</span></span> <span data-ttu-id="39922-111">@No__t-0 ' dan türetilen etkinliklerin geliştirilmesi, kullanıcıların çalışma zamanına, alt öğeleri zamanlama, yer işaretleri oluşturma, zaman uyumsuz çalışma çağırma, işlemleri kaydetme ve daha birçok işlev için <xref:System.Activities.NativeActivityContext> aracılığıyla çalışma zamanına erişmelerini sağlar.</span><span class="sxs-lookup"><span data-stu-id="39922-111">Developing activities that derive from <xref:System.Activities.NativeActivity> allows users to access the runtime through the <xref:System.Activities.NativeActivityContext> for functionality like scheduling children, creating bookmarks, invoking asynchronous work, registering transactions, and more.</span></span>  
  
 <span data-ttu-id="39922-112">@No__t-0 ' dan türetilen yazma etkinlikleri bildirime göre yapılır ve bu etkinlikler XAML 'de yazılabilir.</span><span class="sxs-lookup"><span data-stu-id="39922-112">Authoring activities that derive from <xref:System.Activities.Activity> is declarative and these activities can be authored in XAML.</span></span> <span data-ttu-id="39922-113">Aşağıdaki örnekte, yürütme gövdesi için diğer etkinlikler kullanılarak `Prompt` adlı bir etkinlik oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="39922-113">In the following example, an activity called `Prompt` is created using other activities for the execution body.</span></span>  
  
```xml  
<Activity x:Class='Prompt'  
  xmlns:x='http://schemas.microsoft.com/winfx/2006/xaml'  
    xmlns:z='http://schemas.microsoft.com/netfx/2008/xaml/schema'  
xmlns:my='clr-namespace:XAMLActivityDefinition;assembly=XAMLActivityDefinition'  
xmlns:s="clr-namespace:System;assembly=mscorlib"  
xmlns="http://schemas.microsoft.com/2009/workflow">  
<z:SchemaType.Members>  
    <z:SchemaType.SchemaProperty Name='Text' Type=' InArgument(s:String)' />  
  <z:SchemaType.SchemaProperty Name='Response' Type='OutArgument(s:String)' />  
</z:SchemaType.Members>  
  <Sequence>  
    <my:WriteLine Text='[Text]' />  
    <my:ReadLine BookmarkName='r1' Result='[Response]' />  
  </Sequence>  
</Activity>  
```  
  
## <a name="activity-context"></a><span data-ttu-id="39922-114">Etkinlik bağlamı</span><span class="sxs-lookup"><span data-stu-id="39922-114">Activity Context</span></span>  
 <span data-ttu-id="39922-115">@No__t-0, iş akışı çalışma zamanı için etkinlik yazarının arabirimidir ve çalışma zamanının geniş özelliklerine erişim sağlar.</span><span class="sxs-lookup"><span data-stu-id="39922-115">The <xref:System.Activities.ActivityContext> is the activity author's interface to the workflow runtime and provides access to the runtime's wealth of features.</span></span> <span data-ttu-id="39922-116">Aşağıdaki örnekte, bir yer işareti oluşturmak için yürütme bağlamını kullanan bir etkinlik tanımlanmıştır (bir etkinliğin yürütmeye, verileri etkinliğe geçen bir konak tarafından sürdürülebilecek bir devamlılık noktası kaydetmesini sağlayan mekanizma).</span><span class="sxs-lookup"><span data-stu-id="39922-116">In the following example, an activity is defined that uses the execution context to create a bookmark (the mechanism that allows an activity to register a continuation point in its execution that can be resumed by a host passing data into the activity).</span></span>  
  
 [!code-csharp[CFX_WorkflowApplicationExample#15](~/samples/snippets/csharp/VS_Snippets_CFX/cfx_workflowapplicationexample/cs/program.cs#15)]  
  
## <a name="activity-life-cycle"></a><span data-ttu-id="39922-117">Etkinlik yaşam döngüsü</span><span class="sxs-lookup"><span data-stu-id="39922-117">Activity Life Cycle</span></span>  
 <span data-ttu-id="39922-118">Etkinliğin bir örneği <xref:System.Activities.ActivityInstanceState.Executing> durumunda başlatılır.</span><span class="sxs-lookup"><span data-stu-id="39922-118">An instance of an activity starts out in the <xref:System.Activities.ActivityInstanceState.Executing> state.</span></span> <span data-ttu-id="39922-119">Özel durumlarla karşılaşılmadığı sürece, tüm alt etkinliklerin yürütülmesi tamamlanana kadar bu durumda kalır ve diğer bir bekleyen iş (örneğin, <xref:System.Activities.Bookmark> nesneleri) tamamlanır ve bu noktada <xref:System.Activities.ActivityInstanceState.Closed> durumuna geçiş yapar.</span><span class="sxs-lookup"><span data-stu-id="39922-119">Unless exceptions are encountered, it remains in this state until all child activities are finished executing and any other pending work (<xref:System.Activities.Bookmark> objects, for instance) is completed, at which point it transitions to the <xref:System.Activities.ActivityInstanceState.Closed> state.</span></span> <span data-ttu-id="39922-120">Etkinlik örneğinin üst öğesi iptal etmek için bir alt öğe isteyebilir; alt öğe iptal edilirse <xref:System.Activities.ActivityInstanceState.Canceled> durumunda tamamlanır.</span><span class="sxs-lookup"><span data-stu-id="39922-120">The parent of an activity instance can request a child to cancel; if the child is able to be canceled it completes in the <xref:System.Activities.ActivityInstanceState.Canceled> state.</span></span> <span data-ttu-id="39922-121">Yürütme sırasında bir özel durum oluşturulursa, çalışma zamanı etkinliği <xref:System.Activities.ActivityInstanceState.Faulted> durumuna geçirir ve özel durumu, etkinlik zincirinin üst zincirini yayar.</span><span class="sxs-lookup"><span data-stu-id="39922-121">If an exception is thrown during execution, the runtime puts the activity into the <xref:System.Activities.ActivityInstanceState.Faulted> state and propagates the exception up the parent chain of activities.</span></span> <span data-ttu-id="39922-122">Etkinliğin üç tamamlanma durumu aşağıda verilmiştir:</span><span class="sxs-lookup"><span data-stu-id="39922-122">The following are the three completion states of an activity:</span></span>
  
- <span data-ttu-id="39922-123">**Kapalı:** Etkinlik, işini tamamladı ve çıkıldı.</span><span class="sxs-lookup"><span data-stu-id="39922-123">**Closed:** The activity has completed its work and exited.</span></span>  
  
- <span data-ttu-id="39922-124">**Iptal edildi:** Etkinlik, işini düzgün bir şekilde terk etti ve çıkıldı.</span><span class="sxs-lookup"><span data-stu-id="39922-124">**Canceled:** The activity has gracefully abandoned its work and exited.</span></span> <span data-ttu-id="39922-125">Bu durum girildiğinde iş açık bir şekilde geri alınmaz.</span><span class="sxs-lookup"><span data-stu-id="39922-125">Work is not explicitly rolled back when this state is entered.</span></span>  
  
- <span data-ttu-id="39922-126">**Hatalı:** Etkinlik bir hatayla karşılaştı ve işi tamamlanmadan çıkıldı.</span><span class="sxs-lookup"><span data-stu-id="39922-126">**Faulted:** The activity has encountered an error and has exited without completing its work.</span></span>  
  
 <span data-ttu-id="39922-127">Etkinlikler kalıcı veya kaldırılmış olduğunda <xref:System.Activities.ActivityInstanceState.Executing> durumunda kalır.</span><span class="sxs-lookup"><span data-stu-id="39922-127">Activities remain in the <xref:System.Activities.ActivityInstanceState.Executing> state when they are persisted or unloaded.</span></span>
